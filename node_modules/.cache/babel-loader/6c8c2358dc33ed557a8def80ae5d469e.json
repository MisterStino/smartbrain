{"ast":null,"code":"var _jsxFileName = \"/Users/misterstino/Desktop/smartbrain/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition.js';\nimport Navigation from './components/Navigation/Navigation.js';\nimport Logo from './components/Logo/Logo.js';\nimport SignIn from './components/SignIn/SignIn.js';\nimport Register from './components/Register/Register.js';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm.js';\nimport Rank from './components/Rank/Rank.js';\nimport Particles from 'react-particles-js';\nimport Clarifai from 'clarifai'; //Configuration\n\nconst app = new Clarifai.App({\n  apiKey: '6b750152f84f4e0a9f539eab6d2130ce'\n});\nconst particlesOptions = {\n  particles: {\n    number: {\n      value: 80,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  }\n};\nconst initialState = {\n  input: '',\n  imageURL: '',\n  age: {},\n  masculine: {},\n  feminine: {},\n  multiculturalAppearance: [],\n  showTable: false,\n  route: 'signin',\n  isSignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    entries: 0,\n    joined: ''\n  }\n}; //Main App render section\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.retrieveEstimates = data => {\n      const concepts = data.outputs[0].data.regions[0].data.concepts; //Age part\n\n      const ageConcepts = concepts.map(concept => {\n        if (concept.vocab_id === \"age_appearance\") {\n          return concept;\n        }\n      });\n\n      const highestAge = (({\n        name,\n        value\n      }) => ({\n        name,\n        value\n      }))(ageConcepts[0]); //gender part\n      //male\n\n\n      const masculineArray = concepts.filter(e => {\n        return e.name === 'masculine';\n      });\n      const masculine = masculineArray[0]; //female\n\n      const feminineArray = concepts.filter(e => {\n        return e.name === \"feminine\";\n      }); //Multiculti apprearance\n\n      const multiculturalAppearance = concepts.filter(e => {\n        return e.vocab_id === \"multicultural_appearance\";\n      });\n      const feminine = feminineArray[0]; //setting State\n\n      this.setState({\n        masculine: masculine\n      });\n      this.setState({\n        feminine: feminine\n      });\n      this.setState({\n        age: highestAge\n      });\n      this.setState({\n        multiculturalAppearance: multiculturalAppearance\n      });\n    };\n\n    this.onInputChange = event => {\n      this.setState({\n        imageURL: event.target.value\n      });\n    };\n\n    this.onRouteChange = route => {\n      if (route === 'signout') {\n        this.setState(initialState);\n      } else if (route === 'home') {\n        this.setState({\n          isSignedIn: true\n        });\n      }\n\n      this.setState({\n        route: route\n      });\n    };\n\n    this.onSubmit = () => {\n      app.models.initModel({\n        id: Clarifai.DEMOGRAPHICS_MODEL\n      }).then(Model => {\n        return Model.predict(this.state.imageURL);\n      }).then(response => {\n        if (response) {\n          fetch('http://localhost:3000/image', {\n            method: 'put',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: this.state.user.id\n            })\n          }).then(response => response.json()).then(count => {\n            this.setState(Object.assign(this.state.user, {\n              entries: count\n            }));\n          });\n        }\n\n        this.retrieveEstimates(response);\n      }).catch(err => console.log(err)).finally(() => {\n        this.setState({\n          showTable: true\n        });\n      });\n    };\n\n    this.loadUser = data => {\n      const {\n        id,\n        name,\n        email,\n        entries,\n        joined\n      } = data;\n      this.setState({\n        user: {\n          id: id,\n          name: name,\n          email: email,\n          entries: entries,\n          joined: joined\n        }\n      });\n    };\n\n    this.state = {\n      input: '',\n      imageURL: '',\n      age: {},\n      masculine: {},\n      feminine: {},\n      multiculturalAppearance: [],\n      showTable: false,\n      route: 'signin',\n      isSignedIn: false,\n      user: {\n        id: '',\n        name: '',\n        email: '',\n        entries: 0,\n        joined: ''\n      }\n    };\n  }\n\n  render() {\n    const {\n      isSignedIn,\n      imageURL,\n      masculine,\n      feminine,\n      age,\n      multiculturalAppearance,\n      showTable,\n      user\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Particles, {\n      className: \"particles\",\n      params: particlesOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Navigation, {\n      onRouteChange: this.onRouteChange,\n      isSignedIn: isSignedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }), this.state.route === 'home' ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Rank, {\n      name: user.name,\n      entries: user.entries,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ImageLinkForm, {\n      onInputChange: this.onInputChange,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(FaceRecognition, {\n      imageURL: imageURL,\n      masculine: masculine,\n      feminine: feminine,\n      age: age,\n      multiculturalAppearance: multiculturalAppearance,\n      showTable: showTable,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    })) : this.state.route === 'signin' ? /*#__PURE__*/React.createElement(SignIn, {\n      loadUser: this.loadUser,\n      onRouteChange: this.onRouteChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(Register, {\n      onRouteChange: this.onRouteChange,\n      loadUser: this.loadUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 14\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/misterstino/Desktop/smartbrain/src/App.js"],"names":["React","Component","FaceRecognition","Navigation","Logo","SignIn","Register","ImageLinkForm","Rank","Particles","Clarifai","app","App","apiKey","particlesOptions","particles","number","value","density","enable","value_area","initialState","input","imageURL","age","masculine","feminine","multiculturalAppearance","showTable","route","isSignedIn","user","id","name","email","entries","joined","constructor","retrieveEstimates","data","concepts","outputs","regions","ageConcepts","map","concept","vocab_id","highestAge","masculineArray","filter","e","feminineArray","setState","onInputChange","event","target","onRouteChange","onSubmit","models","initModel","DEMOGRAPHICS_MODEL","then","Model","predict","state","response","fetch","method","headers","body","JSON","stringify","json","count","Object","assign","catch","err","console","log","finally","loadUser","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,eAAP,MAA4B,iDAA5B;AACA,OAAOC,UAAP,MAAuB,uCAAvB;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,aAAP,MAA0B,6CAA1B;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,QAAP,MAAqB,UAArB,C,CAGA;;AAEA,MAAMC,GAAG,GAAG,IAAID,QAAQ,CAACE,GAAb,CAAiB;AAC3BC,EAAAA,MAAM,EAAE;AADmB,CAAjB,CAAZ;AAIA,MAAMC,gBAAgB,GAAG;AACvBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,MAAM,EAAE;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,IADD;AAEPC,QAAAA,UAAU,EAAE;AAFL;AAFH;AADC;AADY,CAAzB;AAYA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,EADU;AAEjBC,EAAAA,QAAQ,EAAE,EAFO;AAGjBC,EAAAA,GAAG,EAAE,EAHY;AAIjBC,EAAAA,SAAS,EAAE,EAJM;AAKjBC,EAAAA,QAAQ,EAAE,EALO;AAMjBC,EAAAA,uBAAuB,EAAE,EANR;AAOjBC,EAAAA,SAAS,EAAE,KAPM;AAQjBC,EAAAA,KAAK,EAAE,QARU;AASjBC,EAAAA,UAAU,EAAE,KATK;AAUjBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,EAAE,EAAE,EADA;AAEJC,IAAAA,IAAI,EAAE,EAFF;AAGJC,IAAAA,KAAK,EAAE,EAHH;AAIJC,IAAAA,OAAO,EAAE,CAJL;AAKJC,IAAAA,MAAM,EAAE;AALJ;AAVW,CAArB,C,CAmBA;;AACA,MAAMxB,GAAN,SAAkBX,SAAlB,CAA4B;AAC1BoC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAyBdC,iBAzBc,GAyBOC,IAAD,IAAU;AAC5B,YAAMC,QAAQ,GAAGD,IAAI,CAACE,OAAL,CAAa,CAAb,EAAgBF,IAAhB,CAAqBG,OAArB,CAA6B,CAA7B,EAAgCH,IAAhC,CAAqCC,QAAtD,CAD4B,CAE5B;;AACA,YAAMG,WAAW,GAAGH,QAAQ,CAACI,GAAT,CAAcC,OAAD,IAAa;AAC5C,YAAIA,OAAO,CAACC,QAAR,KAAqB,gBAAzB,EAA2C;AACvC,iBAAOD,OAAP;AACD;AACF,OAJiB,CAApB;;AAKA,YAAME,UAAU,GAAG,CAAC,CAAC;AAAEd,QAAAA,IAAF;AAAQhB,QAAAA;AAAR,OAAD,MAAsB;AAAEgB,QAAAA,IAAF;AAAQhB,QAAAA;AAAR,OAAtB,CAAD,EAAyC0B,WAAW,CAAC,CAAD,CAApD,CAAnB,CAR4B,CAS5B;AACA;;;AACA,YAAMK,cAAc,GAAER,QAAQ,CAACS,MAAT,CAAiBC,CAAD,IAAO;AAC3C,eAAOA,CAAC,CAACjB,IAAF,KAAW,WAAlB;AACD,OAFqB,CAAtB;AAGA,YAAMR,SAAS,GAAGuB,cAAc,CAAC,CAAD,CAAhC,CAd4B,CAe5B;;AACA,YAAMG,aAAa,GAAEX,QAAQ,CAACS,MAAT,CAAiBC,CAAD,IAAO;AAC1C,eAAOA,CAAC,CAACjB,IAAF,KAAW,UAAlB;AACD,OAFoB,CAArB,CAhB4B,CAmB5B;;AACA,YAAMN,uBAAuB,GAAEa,QAAQ,CAACS,MAAT,CAAiBC,CAAD,IAAO;AACpD,eAAOA,CAAC,CAACJ,QAAF,KAAe,0BAAtB;AACD,OAF8B,CAA/B;AAGA,YAAMpB,QAAQ,GAAGyB,aAAa,CAAC,CAAD,CAA9B,CAvB4B,CAwB5B;;AACA,WAAKC,QAAL,CAAc;AAAC3B,QAAAA,SAAS,EAAEA;AAAZ,OAAd;AACA,WAAK2B,QAAL,CAAc;AAAC1B,QAAAA,QAAQ,EAAEA;AAAX,OAAd;AACA,WAAK0B,QAAL,CAAc;AAAC5B,QAAAA,GAAG,EAAEuB;AAAN,OAAd;AACA,WAAKK,QAAL,CAAc;AAACzB,QAAAA,uBAAuB,EAAEA;AAA1B,OAAd;AACD,KAtDa;;AAAA,SAwDd0B,aAxDc,GAwDGC,KAAD,IAAW;AACzB,WAAKF,QAAL,CAAc;AAAC7B,QAAAA,QAAQ,EAAE+B,KAAK,CAACC,MAAN,CAAatC;AAAxB,OAAd;AACD,KA1Da;;AAAA,SA4DduC,aA5Dc,GA4DG3B,KAAD,IAAW;AACzB,UAAIA,KAAK,KAAK,SAAd,EAAyB;AACvB,aAAKuB,QAAL,CAAc/B,YAAd;AACD,OAFD,MAEO,IAAIQ,KAAK,KAAK,MAAd,EAAqB;AAC1B,aAAKuB,QAAL,CAAc;AAACtB,UAAAA,UAAU,EAAE;AAAb,SAAd;AACD;;AACD,WAAKsB,QAAL,CAAc;AAACvB,QAAAA,KAAK,EAAEA;AAAR,OAAd;AACD,KAnEa;;AAAA,SAqEd4B,QArEc,GAqEH,MAAM;AACf9C,MAAAA,GAAG,CAAC+C,MAAJ,CAAWC,SAAX,CAAqB;AAAC3B,QAAAA,EAAE,EAAEtB,QAAQ,CAACkD;AAAd,OAArB,EACGC,IADH,CACQC,KAAK,IAAI;AACb,eAAOA,KAAK,CAACC,OAAN,CAAc,KAAKC,KAAL,CAAWzC,QAAzB,CAAP;AACD,OAHH,EAIGsC,IAJH,CAIQI,QAAQ,IAAI;AAChB,YAAGA,QAAH,EAAa;AACXC,UAAAA,KAAK,CAAC,6BAAD,EAAgC;AACnCC,YAAAA,MAAM,EAAE,KAD2B;AAEnCC,YAAAA,OAAO,EAAE;AAAC,8BAAgB;AAAjB,aAF0B;AAGnCC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBvC,cAAAA,EAAE,EAAE,KAAKgC,KAAL,CAAWjC,IAAX,CAAgBC;AADD,aAAf;AAH6B,WAAhC,CAAL,CAMC6B,IAND,CAMMI,QAAQ,IAAIA,QAAQ,CAACO,IAAT,EANlB,EAODX,IAPC,CAOIY,KAAK,IAAI;AACX,iBAAKrB,QAAL,CAAcsB,MAAM,CAACC,MAAP,CAAc,KAAKX,KAAL,CAAWjC,IAAzB,EAA+B;AAACI,cAAAA,OAAO,EAAEsC;AAAV,aAA/B,CAAd;AACH,WATC;AAUD;;AACD,aAAKnC,iBAAL,CAAuB2B,QAAvB;AACD,OAlBH,EAmBGW,KAnBH,CAmBUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAnBlB,EAoBGG,OApBH,CAoBW,MAAM;AACb,aAAK5B,QAAL,CAAc;AAACxB,UAAAA,SAAS,EAAE;AAAZ,SAAd;AACD,OAtBH;AAuBD,KA7Fa;;AAAA,SA8FdqD,QA9Fc,GA8FF1C,IAAD,IAAU;AACnB,YAAM;AAAEP,QAAAA,EAAF;AAAMC,QAAAA,IAAN;AAAYC,QAAAA,KAAZ;AAAmBC,QAAAA,OAAnB;AAA4BC,QAAAA;AAA5B,UAAsCG,IAA5C;AACA,WAAKa,QAAL,CAAc;AAACrB,QAAAA,IAAI,EAAE;AACnBC,UAAAA,EAAE,EAAEA,EADe;AAEnBC,UAAAA,IAAI,EAAEA,IAFa;AAGnBC,UAAAA,KAAK,EAAEA,KAHY;AAInBC,UAAAA,OAAO,EAAEA,OAJU;AAKnBC,UAAAA,MAAM,EAACA;AALY;AAAP,OAAd;AAOD,KAvGa;;AAEZ,SAAK4B,KAAL,GAAa;AACX1C,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,GAAG,EAAE,EAHM;AAIXC,MAAAA,SAAS,EAAE,EAJA;AAKXC,MAAAA,QAAQ,EAAE,EALC;AAMXC,MAAAA,uBAAuB,EAAE,EANd;AAOXC,MAAAA,SAAS,EAAE,KAPA;AAQXC,MAAAA,KAAK,EAAE,QARI;AASXC,MAAAA,UAAU,EAAE,KATD;AAUXC,MAAAA,IAAI,EAAE;AACJC,QAAAA,EAAE,EAAE,EADA;AAEJC,QAAAA,IAAI,EAAE,EAFF;AAGJC,QAAAA,KAAK,EAAE,EAHH;AAIJC,QAAAA,OAAO,EAAE,CAJL;AAKJC,QAAAA,MAAM,EAAE;AALJ;AAVK,KAAb;AAmBD;;AAoFD8C,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEpD,MAAAA,UAAF;AAAcP,MAAAA,QAAd;AAAwBE,MAAAA,SAAxB;AAAmCC,MAAAA,QAAnC;AAA6CF,MAAAA,GAA7C;AAAkDG,MAAAA,uBAAlD;AAA2EC,MAAAA,SAA3E;AAAsFG,MAAAA;AAAtF,QAA+F,KAAKiC,KAA1G;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,WAArB;AACE,MAAA,MAAM,EAAElD,gBADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAIE,oBAAC,UAAD;AACA,MAAA,aAAa,EAAE,KAAK0C,aADpB;AAEA,MAAA,UAAU,EAAE1B,UAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAQI,KAAKkC,KAAL,CAAWnC,KAAX,KAAqB,MAArB,gBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,IAAD;AACA,MAAA,IAAI,EAAEE,IAAI,CAACE,IADX;AAEA,MAAA,OAAO,EAAEF,IAAI,CAACI,OAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAME,oBAAC,aAAD;AACA,MAAA,aAAa,EAAE,KAAKkB,aADpB;AAEA,MAAA,QAAQ,EAAE,KAAKI,QAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAUE,oBAAC,eAAD;AACA,MAAA,QAAQ,EAAElC,QADV;AAEA,MAAA,SAAS,EAAEE,SAFX;AAGA,MAAA,QAAQ,EAAEC,QAHV;AAIA,MAAA,GAAG,EAAEF,GAJL;AAKA,MAAA,uBAAuB,EAAEG,uBALzB;AAMA,MAAA,SAAS,EAAEC,SANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CADA,GAqBE,KAAKoC,KAAL,CAAWnC,KAAX,KAAqB,QAArB,gBACA,oBAAC,MAAD;AACA,MAAA,QAAQ,EAAE,KAAKoD,QADf;AAEA,MAAA,aAAa,EAAE,KAAKzB,aAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,gBAKC,oBAAC,QAAD;AACD,MAAA,aAAa,EAAE,KAAKA,aADnB;AAED,MAAA,QAAQ,EAAE,KAAKyB,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlCP,CADF;AA2CD;;AAvJyB;;AAyJ5B,eAAerE,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition.js'\nimport Navigation from './components/Navigation/Navigation.js'\nimport Logo from './components/Logo/Logo.js'\nimport SignIn from './components/SignIn/SignIn.js'\nimport Register from './components/Register/Register.js'\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm.js'\nimport Rank from './components/Rank/Rank.js'\nimport Particles from 'react-particles-js';\nimport Clarifai from 'clarifai'\n\n\n//Configuration\n\nconst app = new Clarifai.App({\n  apiKey: '6b750152f84f4e0a9f539eab6d2130ce'\n });\n\nconst particlesOptions = {\n  particles: {\n    number: {\n      value: 80,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  }\n}\n\nconst initialState = {\n    input: '',\n    imageURL: '',\n    age: {},\n    masculine: {},\n    feminine: {},\n    multiculturalAppearance: [],\n    showTable: false,\n    route: 'signin',\n    isSignedIn: false,\n    user: {\n      id: '',\n      name: '',\n      email: '',\n      entries: 0,\n      joined: ''\n    }\n  }\n\n//Main App render section\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      input: '',\n      imageURL: '',\n      age: {},\n      masculine: {},\n      feminine: {},\n      multiculturalAppearance: [],\n      showTable: false,\n      route: 'signin',\n      isSignedIn: false,\n      user: {\n        id: '',\n        name: '',\n        email: '',\n        entries: 0,\n        joined: ''\n      }\n    }\n\n  }\n\n\n\n  retrieveEstimates = (data) => {\n    const concepts = data.outputs[0].data.regions[0].data.concepts\n    //Age part\n    const ageConcepts = concepts.map((concept) => {\n      if (concept.vocab_id === \"age_appearance\") {\n          return concept\n        }\n      })\n    const highestAge = (({ name, value }) => ({ name, value }))(ageConcepts[0]);\n    //gender part\n    //male\n    const masculineArray =concepts.filter((e) => {\n      return e.name === 'masculine';\n    });\n    const masculine = masculineArray[0];\n    //female\n    const feminineArray =concepts.filter((e) => {\n      return e.name === \"feminine\";\n    });\n    //Multiculti apprearance\n    const multiculturalAppearance =concepts.filter((e) => {\n      return e.vocab_id === \"multicultural_appearance\";\n    });\n    const feminine = feminineArray[0];\n    //setting State\n    this.setState({masculine: masculine})\n    this.setState({feminine: feminine})\n    this.setState({age: highestAge})\n    this.setState({multiculturalAppearance: multiculturalAppearance})\n  }\n\n  onInputChange = (event) => {\n    this.setState({imageURL: event.target.value})\n  }\n\n  onRouteChange = (route) => {\n    if( route === 'signout') {\n      this.setState(initialState)\n    } else if (route === 'home'){\n      this.setState({isSignedIn: true})\n    }\n    this.setState({route: route})\n  }\n  \n  onSubmit = () => {\n    app.models.initModel({id: Clarifai.DEMOGRAPHICS_MODEL})\n      .then(Model => {\n        return Model.predict(this.state.imageURL);\n      })\n      .then(response => {\n        if(response) {\n          fetch('http://localhost:3000/image', {\n            method: 'put',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n              id: this.state.user.id\n            })\n        }).then(response => response.json())\n        .then(count => {\n            this.setState(Object.assign(this.state.user, {entries: count}))\n        })\n        }\n        this.retrieveEstimates(response)\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        this.setState({showTable: true})\n      });\n  }\n  loadUser = (data) => {\n    const { id, name, email, entries, joined} = data;\n    this.setState({user: {\n      id: id,\n      name: name,\n      email: email,\n      entries: entries,\n      joined:joined\n    }})\n  }\n\n  render() {\n    const { isSignedIn, imageURL, masculine, feminine, age, multiculturalAppearance, showTable, user } = this.state;\n    return (\n      <div className=\"App\">\n        <Particles className='particles'\n          params={particlesOptions} \n        />\n        <Navigation \n        onRouteChange={this.onRouteChange}\n        isSignedIn={isSignedIn}\n        />\n        { this.state.route === 'home'\n        ? <div>\n            <Logo/>\n            <Rank \n            name={user.name}\n            entries={user.entries}\n            />\n            <ImageLinkForm \n            onInputChange={this.onInputChange} \n            onSubmit={this.onSubmit}\n            /> \n            <FaceRecognition \n            imageURL={imageURL}\n            masculine={masculine}\n            feminine={feminine}\n            age={age}\n            multiculturalAppearance={multiculturalAppearance}\n            showTable={showTable}\n            />\n          </div>\n          :(\n            this.state.route === 'signin'?\n            <SignIn \n            loadUser={this.loadUser}\n            onRouteChange={this.onRouteChange}\n            />\n            :<Register \n            onRouteChange={this.onRouteChange}\n            loadUser={this.loadUser}\n            />\n          )  \n        }\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}